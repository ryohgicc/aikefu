# AIkeFu Assistant

AIkeFu Assistant 是一个基于AI的智能客服助手Chrome扩展，帮助优化客服回答内容，提供更专业、更友好的客户服务体验。

## 功能特点

- 🤖 **AI智能优化**: 基于火山引擎API智能优化客服回答
- 🌍 **自动语言识别**: AI自动识别用户问题语言，无需手动选择
- ⚙️ **灵活配置**: 可配置的API密钥和模型参数
- 📋 **便捷操作**: 一键复制优化后的回答内容
- 🎯 **用户友好**: 简洁直观的界面设计
- 🔍 **详细调试**: 增强的错误处理和调试信息显示
- 💾 **状态缓存**: 自动保存工作状态，刷新不丢失

## 安装使用

### 开发模式安装

1. 克隆或下载本项目
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"，选择项目文件夹
5. 扩展程序图标将出现在浏览器工具栏

### 配置API

1. 点击扩展程序图标，选择"配置设置"
2. 输入您的火山引擎API密钥、Base URL和模型名称
3. 点击"保存配置"完成设置

## 使用方法

1. **配置API**: 首次使用需配置火山引擎API密钥
2. **输入内容**: 在弹窗界面输入用户问题和您的回答
3. **智能优化**: AI自动识别用户语言并优化回答
4. **查看结果**: 同时获得中文和原语言的双语优化版本
5. **复制使用**: 一键复制优化后的回答内容直接使用

## 技术架构

- **前端**: HTML5, CSS3, JavaScript ES6+
- **Chrome扩展**: Manifest V3
- **AI服务**: 火山引擎API
- **数据存储**: Chrome Storage API

## 文件结构

```
aikefu/
├── manifest.json          # 扩展程序配置文件
├── background.js          # 后台服务脚本
├── popup.html            # 弹窗界面
├── popup.js              # 弹窗交互逻辑
├── popup.css             # 弹窗样式
├── config.html           # 配置页面
├── config.js             # 配置逻辑
├── config-page.js        # 配置页面交互
└── images/               # 图标资源
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## API配置说明

扩展程序使用火山引擎提供的AI服务，需要配置以下参数：

- **API密钥**: 火山引擎平台的访问密钥
- **Base URL**: API服务地址（默认：https://ark.cn-beijing.volces.com/api/v3）
- **模型名称**: 使用的具体模型标识（默认：ep-20250509112109-tqptk）

### 配置步骤
1. 访问火山引擎官网注册账号
2. 创建API密钥
3. 获取模型接入点信息
4. 在扩展配置页面填入相关信息

## 隐私安全

- API密钥通过Chrome Storage API安全存储
- 所有配置数据仅在本地保存
- 不会收集或上传用户输入内容

## 开发说明

### 本地开发

1. 修改代码后，在扩展程序页面点击"刷新"按钮重新加载
2. 使用Chrome开发者工具调试弹窗和配置页面
3. 查看`background.js`的控制台输出进行调试

### 错误处理与调试

- **智能错误识别**: 自动识别配置错误、网络错误、API错误
- **详细错误信息**: 显示具体错误原因和解决方案
- **原始响应显示**: 调试用原始API响应内容显示
- **错误详情面板**: 包含错误堆栈和时间戳信息
- **状态缓存**: 错误状态自动保存，便于问题复现

### 调试指南

1. **查看控制台日志**: F12打开开发者工具查看详细日志
2. **检查原始响应**: 界面显示API返回的原始内容
3. **错误详情**: 展开错误详情查看技术信息
4. **网络请求**: Network标签页查看HTTP请求详情

## 更新日志

### v1.1 (当前版本)
- 🆕 **AI自动语言识别**: 无需手动选择语言，AI智能识别用户问题语言
- 🆕 **增强错误处理**: 详细的错误信息和调试功能
- 🆕 **状态自动缓存**: 输入内容自动保存，刷新页面不丢失
- 🆕 **界面优化**: 配置窗口尺寸增大，操作更舒适
- 🔧 **JSON格式验证**: 智能检测和修复API响应格式问题
- 🔧 **详细日志**: 完整的API请求响应调试信息

### v1.0
- 基础AI回答优化功能
- 中英文双语支持
- 配置管理功能
- 用户界面优化

## 支持与反馈

如有问题或建议，请通过以下方式联系：

- 提交Issue到GitHub仓库
- 邮件联系开发者

## 许可证

本项目采用MIT许可证，详见[LICENSE](LICENSE)文件。

---

**注意**: 使用本扩展程序需要配置有效的火山引擎API密钥。请确保遵守相关服务条款和使用规范。

## 功能演示

### 自动语言识别
输入任意语言的问题，AI自动识别并返回对应语言的优化回答：

```
用户问题（日语）: このアプリは無料ですか？
AI优化回答: 
- 中文: 您好！关于费用问题...
- 日语（自动识别）: お客様、このアプリに関する料金について...
```

### 错误处理示例
当API配置错误或网络问题时，会显示详细的错误信息：
- 配置错误提示
- 网络连接问题
- API响应异常
- 原始响应内容（调试用）

### 状态缓存
- 输入内容自动保存
- 刷新页面后自动恢复
- 错误状态也能保存便于调试